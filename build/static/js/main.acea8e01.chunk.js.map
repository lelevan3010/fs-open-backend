{"version":3,"sources":["services/persons.js","components/Filter.js","components/Notify.js","components/PersonForm.js","components/Persons.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","personsService","getAllPersons","axios","get","then","res","data","createPerson","newObject","post","updatePerson","id","put","deletePerson","delete","Filter","persons","setFilteredPersons","onChange","e","preventDefault","arr","filter","person","name","toLowerCase","includes","target","value","Notify","type","message","isOpen","setIsOpen","textStyles","display","backgroundColor","margin","padding","textAlign","color","setTimeout","style","position","width","top","justifyContent","PersonForm","setNewName","setNewNumber","newName","setPersons","newNumber","useState","isNotifyOpen","setIsNotifyOpen","notifyMessage","setNotifyMessage","notifyType","setNotifyType","onClick","filtered","console","log","length","window","confirm","number","state","map","el","i","catch","err","response","error","Persons","filteredPersons","renderPerson","remainPersons","thisPerson","remainFilteredPersons","handleDelete","filteredPerson","App","useEffect","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.acea8e01.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAllPersons = () => {\n  const req = axios.get(baseUrl)\n  return req.then(res => res.data)\n}\n\nconst createPerson = newObject => {\n  const req = axios.post(baseUrl, newObject)\n  return req.then(res => res.data)\n}\n\nconst updatePerson = (id, newObject) => {\n  const req = axios.put(`${baseUrl}/${id}`, newObject)\n  return req.then(res => {\n    return res.data})\n}\n\nconst deletePerson = (id) => {\n  const req = axios.delete(`${baseUrl}/${id}`)\n  return req.then(res => res.data)\n}\n\nconst personsService = { \n  getAllPersons, \n  createPerson, \n  updatePerson,\n  deletePerson\n}\n\nexport default personsService","function Filter({ persons, setFilteredPersons }) {\n    return (<span>filter shown with \n      <input onChange={\n        (e) => {\n          e.preventDefault()\n          const arr = persons.filter((person) => person.name.toLowerCase().includes(e.target.value.toLowerCase()))\n          setFilteredPersons(arr)\n        }\n     }/>\n    </span>\n    )\n}\n\nexport default Filter","function Notify ({type, message, isOpen, setIsOpen}) {\n    \n    const textStyles = {\n        display: 'flex',\n        backgroundColor: type === 'danger' ? 'red' : 'green',\n        margin: 0,\n        padding: 10,\n        textAlign: 'center',\n        color: 'white',\n    }\n\n    if (!isOpen) {\n        return <></>\n    } else {\n        setTimeout(() => {\n            setIsOpen(false)\n        }, 5000)\n        return (<div style={{\n            position: 'absolute',\n            width: '100%',\n            display: 'flex',\n            top: 0,\n            justifyContent: 'center'\n        }}>\n            <h4 style={textStyles}>{message}</h4>\n        </div>)\n    }\n\n}\n\nexport default Notify","import { useState } from 'react'\nimport personsService from '../services/persons'\n\nimport Notify from './Notify'\n\nfunction PersonForm({setNewName, setNewNumber, persons, newName, setPersons, newNumber}) {\n\n  const [ isNotifyOpen, setIsNotifyOpen ] = useState(false)\n  const [ notifyMessage, setNotifyMessage ] = useState('')\n  const [ notifyType, setNotifyType ] = useState('success')\n    \n    return (\n      <form>\n          <Notify \n            type={notifyType} \n            isOpen={isNotifyOpen} \n            setIsOpen={setIsNotifyOpen} \n            message={notifyMessage}/>\n          <div>\n            name: <input onChange={(e) => {\n              e.preventDefault();\n              setNewName(e.target.value)}}/>\n          </div>\n          <div>\n            number: <input onChange={(e) => {\n              e.preventDefault();\n              setNewNumber(e.target.value)}}/>\n          </div>\n          <div>\n            <button onClick={(e) => {\n              e.preventDefault();\n\n              const filtered = persons.filter((person) => person.name === newName)\n              console.log(`filtered`, filtered)\n              if (filtered.length > 0) {\n                const confirm = window.confirm(`${newName} already added, replace old number with new one?`)\n                if (confirm === false)\n                  return;\n                personsService.updatePerson(filtered[0].id, {name: newName, number: newNumber})\n                  .then(person => {\n                    setNotifyMessage(`${person.name} was updated`)\n                    setIsNotifyOpen(true)\n                    setNotifyType('success')\n                    setPersons(state => {\n                      return state.map((el, i) => {\n                        if (filtered[0].id === el.id) {\n                          return person\n                        } else {\n                          return el\n                        }\n                      })\n                    })\n                  })\n                  .catch(err => {\n                    setNotifyType('danger')\n                    setNotifyMessage(err.response.data.error)\n                    setIsNotifyOpen(true)\n                  })\n              } else {\n                personsService.createPerson({name: newName, number: newNumber})\n                  .then(person => {\n                    console.log(person)\n                    setNotifyMessage(`${person.name} was created`)\n                    setIsNotifyOpen(true)\n                    setNotifyType('success')\n                    setPersons([...persons, person])\n                  })\n                  .catch(err => {\n                    setNotifyType('danger')\n                    setNotifyMessage(err.response.data.error)\n                    setIsNotifyOpen(true)\n                  })\n              }\n            }}>add</button>\n          </div>\n        </form>\n    )\n}\n  \nexport default PersonForm","import personsService from '../services/persons'\n\nfunction Persons({filteredPersons, setFilteredPersons, persons, setPersons}) {\n\n  const handleDelete = (e, person) => {\n    e.preventDefault();\n    const confirm = window.confirm(`Are you sure to delete ${person.name}?`)\n    if (confirm === false)\n      return;\n\n    personsService.deletePerson(person.id).then(() => {\n      const remainPersons = persons.filter(thisPerson => thisPerson.id !== person.id)\n      setPersons(remainPersons)\n      \n      if (filteredPersons.length > 0) {\n        const remainFilteredPersons = filteredPersons.filter(thisPerson => thisPerson.id !== person.id)\n        setFilteredPersons(remainFilteredPersons)\n      }\n    })\n  }\n\n  const renderPerson = (person) => {\n    return (\n      <div key={person.name}>\n        <p style={{display: 'inline'}}>{person.name} {person.number}</p>\n        <button onClick={(e) => handleDelete(e, person)}>delete</button>\n      </div>\n    )\n  }\n  \n  return (\n      <>\n      {\n        filteredPersons.length > 0 \n        ? filteredPersons.map((filteredPerson) => renderPerson(filteredPerson))\n        : persons.map((person) => renderPerson(person))\n      }\n      </>\n    )\n}\n\nexport default Persons","import React, { useState, useEffect } from 'react'\nimport personsService from './services/persons'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  \n  const [ filteredPersons, setFilteredPersons ] = useState([]) \n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n\n  useEffect(() => {\n    personsService.getAllPersons().then(person => setPersons(person))\n  }, [])\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter persons={persons} setFilteredPersons={setFilteredPersons}/>\n\n      <h2>Add new</h2>\n      <PersonForm \n        setNewName={setNewName} \n        setNewNumber={setNewNumber} \n        persons={persons} \n        newName={newName} \n        setPersons={setPersons} \n        newNumber={newNumber}/>\n\n      <h2>Numbers</h2>\n      <Persons \n        filteredPersons={filteredPersons} \n        setFilteredPersons={setFilteredPersons} \n        persons={persons}\n        setPersons={setPersons}/>\n      \n    </div>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}